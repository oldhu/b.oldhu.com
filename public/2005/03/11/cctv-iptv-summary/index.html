<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title> CCTV在IPTV上的努力 &middot; OLDHU&#39;s BLOG </title>


<link rel="stylesheet" href="http://b.oldhu.com/css/slim.css">
<link rel="stylesheet" href="http://b.oldhu.com/css/highlight.min.css">
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/favicon.ico">


<link href="" rel="alternate" type="application/rss+xml" title="OLDHU&#39;s BLOG" />

</head>

<body>
  <div class="container">
    <div class="header">
  <h1 class="site-title"><a href="http://b.oldhu.com/">OLDHU&#39;s BLOG</a></h1>
  <p class="site-tagline">Archive my life here</p>
  <div class="nav">
    <a class="nav-btn" href="#">
      <span class="ci ci-burger"></span>
    </a>
    <ul class="nav-list">
       
	  <li class="spacer">&ac;</li>

      <li><a href="https://github.com/oldhu">Github</a></li> 
      <li><a href="https://twitter.com/archivemylife">Twitter</a></li> 
    </ul>
  </div>
</div>
    <div class="content">
      <div class="posts">
        <div class="post">
          <h2 class="post-title"><a href="http://b.oldhu.com/2005/03/11/cctv-iptv-summary/">CCTV在IPTV上的努力</a></h2>
          <span class="post-date">Mar 11, 2005 </span>
          <div class="post-content">
            最近半年多来，参与了CCTV的IPTV项目。在这个项目中，可以看出中国第一大电视台在面临马上就要到来的三网合一时是多么无奈。

<a href="http://v.cctv.com/">这 个项目</a>我是大约从2004年5月开始介入，到6月投标，7月开始开发， 9月实施，9月22日开通第一期，12月1日开始2.0的开发工作，12月31日 上线。现在正在运行的是2.0版本。

CCTV中负责IPTV的是中视网络(<a href="http://www.icctv.com.cn/">icctv</a>)， 这家公司拥有央视所有节目的网络运营权。第一期的招标之前，icctv是网通合作的，icctv把内 容采集为windows media的格式，然后通过ftp传给网通，网通再把节目进行DRM加密，然后放到网上供大家点播。当时内容虽然加了密，但是不收费。使用一个固定的用户 名和密码登陆。Web Server和Streaming Server都是放在网通，而且限制了IP，只有北京的ADSL用户可以点。

但是icctv对此远远不能满意，他们要运营这些内容，要面向全国运营，要收费。

因此有了6月的招标。

6月的招标中，icctv提出了一个全面的计划。总结起来，有这样几个特点：
<ol><li>统一门户。icctv在北京设置一个网站，作为全国统一的入 口，所有的用户都访问这一个网站。</li><li>分散用户。icctv不会自己建立收费体系，而又想面向全国的 用户。这样icctv就需要与各地拥有用户资源的运营商合作。用户需要登录网站时，网站判断用户的来源，并把用户重定向到相应运营商的登录和收费系统上。</li><li>分散访问。这样大规模的内容访问，为保证各地用户的服务质量， 需要进行内容分发，让用户就近访问。</li><li>统一内容。全国各地的用户登录到系统后，看到的是统一的内容， 因此各省中心服务器上的内容应该是完全一样的。</li><li>统一授权。 所有分发到各省中心的节目全部是经过了DRM加密的，节目在播放前需要经过DRM授权，这个工作集中在北京进行。</li><li>统一定价。一个定价，整个网站包月30元。</li></ol> 从系统的结构上讲，基本上就是这样几个特点。央视项目的特点就是时间非常紧，合同签得慢。本来从6月开始招标，到9月就要求实施，时间已经非常紧了，结果 投标后，经过无数的地下操作，到7月20日才通知，由我公司和另一家公司联合中标。

宣布联合中标之前，我们部分开发工作已经启动了。中标之后，立刻开始忙乱起来。按集团要求，我们必须使用同一集团下另一兄弟公司的内容管理平台和工作流引 擎。我们开始熟悉这两个系统的API，之后还要设计整个系统，与另一家公司讨论接口......这时候，我手里的开发人员是...3个！这其中的艰苦可以 先不用说了，9月中旬项目接近完成的时候，我回家举行春节就定好的婚礼。被我扔下的弟兄们在9月22日如期开通了第一期。

9月22日先开通的时北京站，之后9月24日开通了江苏站(开通在icctv内按电视台的术语被叫做"落地")。这时第一期的问题暴露了出来。
<ol><li>统一内容带来的问题。

统一内容带来的最大问题是存储和带宽的问题。icctv的想法是在自己的机房里建立一个资源中心，各省建立省中心，中心到省中心之间保证高速的网络带宽。 中心是内容制作中心，每天制作内容，然后打包加密，把加密后的内容分发到各省中心，之后更新门户网站。

icctv不愿意自己去到各地去投资流媒体服务器，而是希望与各地的电信合作，由电信来提供服务器和存储。这一点在 开始在北京的时候没有什么问题，北京网通提供了央视要求的服务器，并提供了大约1T的存储空间，10M的光纤带宽，icctv每天产生几十个小时的 节目，码率为384kbps，比较短的时间内就可以传送完成。但是当icctv准备进 入江苏的时候，遇到了不小的问题。

首先是电信根本就不爱理icctv，后来找到一家第三方公司撮合，两方才坐到一起。然后是服务器和存储的问题，江苏有全省规模的CDN，但不愿意让 icctv接入。后来为央视单独提供了三台服务器，800G空间。这个空间与北京网通的空间大小不同，事实上的统一内容已经无法实现了。

最主要的问题是央视到江苏的连接速度，非常慢，央视每天生产出来的节目只能正常传送到江苏少量的几个。由于内容要求统一，因此只有江苏和北京都传送成功的 节目才会更新到门户上，这样江苏的连接速度就成为了瓶颈，使得整个网站的更新速度非常慢。

  </li><li>统一定价带来的问题。

统一内容的要求带来的问题是技术上的，而统一定价带来的问题则是市场和销售上的。由节目的访问统计可以看出，访问量最高的就是电视剧，大部分访问量都是电 视剧贡献的。而由于这个大包月的定价，不能选择只看电视剧，更不能选择看某一部电视剧，某一集电视剧。另外，由于icctv在第一期时对大包月的要求，为 了减少对DRM授权服务器的压力，每个频道中的节目都只用了一个密钥加密。这时候如果想按单个节目收费，从技术角度也实现不了了。

  </li><li>其他问题。

这时候我们还看到了一些icctv的内部斗争，第一期招标刚结束，技术负责人就换掉了，第一期实施完后，更是连icctv的老总都换了；同时icctv内 的技术部、网络部和内容制作部等之间都有不小的矛盾。
另外，还有内容的所有权之争，孙玉胜的数字电视公司也声称自己拥有央视内容的网络运营权，还有广电在线，他们也认为自己拥有中央电视台的节目，而且在与江 苏电信联系。</li></ol> 由于这些问题，icctv的收费用户增加得非常缓慢，1.0版本经过了几个月的运行后，才发展了几百个收费用户，icctv更换了新的老总和技术副总，这 时候他们提出了2.0的开发计划。

在2.0的计划中，央视试图解决上面提到的问题1和2。
<ol><li>分布门户

每个省中心有自己的门户，自己的流媒体内容。中心针对每一个省中心维护一个分发队列，每个队列按自己的速度分发，互不干扰。加密后的流媒体节目和XML格 式的元数据同时分发，以做到网站和流媒体服务的同步。内容分发到各省中心后，各省中心负责用这些数据为用户提供服务。

  </li><li>内容的重新组织

在2.0中，央视提出了"在互联网上看电视"的概念，希望自己与视频点播的服务商有所区别，并在此概念的基础上对页面进行了改版。另外，按两种分类方式对 内容进行了重新组织。一种分类方式是央视的开路频道，另一种方式是重新规划的网络频道。

网络频道经过重新规划，由原来的16个增加到了27个。icctv希望以此为基础进行按频道收费的工作。</li></ol> 可以看到，icctv对自己的定位正在发生着悄悄的变化。在盈利的压力下，icctv需要调整自己的思路，努力接近更多的用户，接受原来不愿意接受的条 件。

2.0于2005年1月1日在北京正式上线。在过去的2004年中，icctv花掉了近1500万，几乎没有任何收入，据说中央电视台的台长亲自关注了这 个公司，如果再不盈利的话，会考虑撤销这个公司。

现在icctv的人更加忙乱，想尽各种办法想把节目卖出去，这时候icctv想的不再是如何卖给最终用户，而是开始让自己成为一个纯粹的内容提供商，试图 向运营商出售节目。最近我们正在为icctv做的精品节目系统就是一个纯粹的节目提供商系统。

icctv把一些精品的栏目一起打包卖给了另一家公司，大约20个栏目，共作价500万。提供的是加密后的节目。另外听说icctv还有人在试图买未加密 的节目。

到今天，icctv的系统的统计数据大致如下：
<ul><li>节目总数 11000+</li><li>节目总时长 4200小时+
</li><li>打包后的文件大小 700G+</li><li>工作日每天生产节目数 80+</li><li>北京收费用户 300+</li><li>每周的PageView 50万+
</li></ul>

          </div>
        </div>
        <div class="pagination">
          <a class="btn previous " href="http://b.oldhu.com/2005/03/15/install-gds-on-server/"> Prev</a>  
          <a class="btn next " href="http://b.oldhu.com/2004/11/04/build-tools/"> Next</a> 
        </div>
      </div>
    </div>
    
    <div class="footer">
  
  <p>Powered by <a href="http://gohugo.io">Hugo</a>. This theme—Slim—is open sourced on <a href="https://github.com/zhe/hugo-theme-slim">Github</a>.</p>
  
</div>

  </div>
  <script src="http://b.oldhu.com/js/slim.js"></script>
  <script src="http://b.oldhu.com/js/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-9830681-1', 'auto');
ga('send', 'pageview');

</script>

</body>

</html>
